#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¥–ª—è debug –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
"""

from src.database import add_message
import time

def create_test_session():
    """–°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—É—é —Å–µ—Å—Å–∏—é —Å –¥–∏–∞–ª–æ–≥–æ–º"""
    session_id = "79123456789_1735832220"
    
    print("üîÑ –°–æ–∑–¥–∞—é —Ç–µ—Å—Ç–æ–≤—É—é —Å–µ—Å—Å–∏—é...")
    
    # –î–∏–∞–ª–æ–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –±–æ—Ç–æ–º
    messages = [
        ("user", "–ü—Ä–∏–≤–µ—Ç! –ü–æ–∫–∞–∂–∏ –∫–∞—Ç–∞–ª–æ–≥ —Ü–≤–µ—Ç–æ–≤", "msg_001"),
        ("assistant", "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üå∏ –°–µ–π—á–∞—Å –ø–æ–∫–∞–∂—É –≤–∞–º –Ω–∞—à –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Ü–≤–µ—Ç–æ–≤.", "msg_002"),
        ("user", "–•–æ—á—É –∑–∞–∫–∞–∑–∞—Ç—å –±—É–∫–µ—Ç —Ä–æ–∑ –Ω–∞ 5000 —Ä—É–±–ª–µ–π", "msg_003"),
        ("assistant", "–û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä! –ü–æ–¥–≥–æ—Ç–æ–≤–ª—é –¥–ª—è –≤–∞—Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –±—É–∫–µ—Ç–æ–≤ —Ä–æ–∑ –≤ —ç—Ç–æ–º —Ü–µ–Ω–æ–≤–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ.", "msg_004"),
        ("user", "–ö–æ–≥–¥–∞ –º–æ–∂–µ—Ç–µ –¥–æ—Å—Ç–∞–≤–∏—Ç—å?", "msg_005"),
        ("assistant", "–ú—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ–º –¥–æ—Å—Ç–∞–≤–∫—É –µ–∂–µ–¥–Ω–µ–≤–Ω–æ —Å 9:00 –¥–æ 21:00. –£–∫–∞–∂–∏—Ç–µ —É–¥–æ–±–Ω–æ–µ –¥–ª—è –≤–∞—Å –≤—Ä–µ–º—è!", "msg_006"),
    ]
    
    for role, content, msg_id in messages:
        add_message(session_id, role, content, msg_id)
        print(f"‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: {role} - {content[:30]}...")
        time.sleep(0.5)  # –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
    
    print(f"üéâ –¢–µ—Å—Ç–æ–≤–∞—è —Å–µ—Å—Å–∏—è {session_id} —Å–æ–∑–¥–∞–Ω–∞!")
    print("üåê –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080/debug –∏ –Ω–∞–∂–º–∏—Ç–µ '–û–±–Ω–æ–≤–∏—Ç—å —Å–µ—Å—Å–∏–∏'")

if __name__ == "__main__":
    create_test_session() 